{"version":3,"file":"pages/detail/index.js","sources":["webpack:///./src/pages/detail/index.vue?361d","webpack:///._src_pages_detail_index.vue","webpack:///./src/pages/detail/index.vue?6d3f","webpack:///./src/pages/detail/index.vue?a623","webpack:///./src/pages/detail/index.vue?930a","webpack:///./src/pages/detail/index.vue?b6fa","webpack:///./src/pages/detail/index.vue?cc5c"],"sourcesContent":["import { render } from \"./index.vue?vue&type=template&id=98596bd0\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=98596bd0&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作室项目\\\\Taro-picture-library-demo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/pages/detail/index.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"98596bd0\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('98596bd0', __exports__)) {\n    console.log('reload')\n    api.reload('98596bd0', __exports__)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=98596bd0\", () => {\n    console.log('re-render')\n    api.rerender('98596bd0', render)\n  })\n\n}\n\n\nexport default __exports__","<template>\r\n  <view class=\"detail\">\r\n    <view>\r\n      <img\r\n        :src=\"`https://picsum.photos/id/${pictureInfo.id}/200`\"\r\n        class=\"resize\"\r\n      />\r\n      <nut-cell\r\n        title=\"author\"\r\n        icon=\"my\"\r\n        :desc=\"`${pictureInfo.author}`\"\r\n      ></nut-cell>\r\n      <nut-cell\r\n        title=\"pictureID\"\r\n        icon=\"issue\"\r\n        :desc=\"`${pictureInfo.id}`\"\r\n      ></nut-cell>\r\n      <nut-cell\r\n        title=\"width\"\r\n        icon=\"date\"\r\n        :desc=\"`${pictureInfo.width}`\"\r\n      ></nut-cell>\r\n      <nut-cell\r\n        title=\"height\"\r\n        icon=\"date\"\r\n        :desc=\"`${pictureInfo.height}`\"\r\n      ></nut-cell>\r\n      <nut-cell\r\n        title=\"is_collect\"\r\n        icon=\"date\"\r\n        :desc=\"`${pictureInfo.is_collect}`\"\r\n      ></nut-cell>\r\n      <nut-cell\r\n        title=\"url\"\r\n        icon=\"link\"\r\n        :desc=\"`${pictureInfo.url}`\"\r\n        is-link\r\n        @click=\"GoIndex\"\r\n      ></nut-cell>\r\n      <nut-notify\r\n        @click=\"onClick\"\r\n        @closed=\"onClosed\"\r\n        :type=\"notifyState.state.type\"\r\n        v-model:visible=\"notifyState.state.show\"\r\n        :msg=\"notifyState.state.desc\"\r\n      />\r\n      <nut-button\r\n        shape=\"round\"\r\n        type=\"primary\"\r\n        @click=\"collect(pictureInfo.id)\"\r\n        :icon=\"is_collecting\"\r\n        >收藏</nut-button\r\n      >\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted, reactive } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Taro from \"@tarojs/taro\";\r\nexport default {\r\n  name: \"detail\",\r\n  setup() {\r\n    const instance = Taro.getCurrentInstance();\r\n    const loading = ref(false);\r\n    const store = useStore();\r\n    const picture = store.state.pictures;\r\n    const pictureID = instance.router.params.id;\r\n    const pictureAuthor = instance.router.params.author;\r\n    const pictureInfo = picture[pictureID];\r\n    const GoIndex = () => {\r\n      Taro.navigateBack({\r\n        delta: 2,\r\n      });\r\n    };\r\n    let is_collecting = ref(\"star\");\r\n    onMounted(() => {\r\n      if (pictureInfo.is_collect == false) {\r\n        is_collecting.value = \"star\";\r\n      } else if (pictureInfo.is_collect == true) {\r\n        is_collecting.value = \"star-fill\";\r\n      }\r\n    });\r\n    const collect = (idx) => {\r\n      if (pictureInfo.is_collect == false) {\r\n        is_collecting.value = \"star-fill\";\r\n        notifyState.methods.cellClick(\"success\", \"收藏成功\");\r\n        store.state.isHasPhotos = false;\r\n        pictureInfo.is_collect = true;\r\n        store.commit(\"toCollect\", pictureInfo);\r\n      } else if (pictureInfo.is_collect == true) {\r\n        is_collecting.value = \"star\";\r\n        notifyState.methods.cellClick(\"warning\", \"取消成功\");\r\n        store.state.pictures[\r\n          store.state.pictures.findIndex((pictures) => pictures.id === idx)\r\n        ].is_collect = false;\r\n        store.commit(\"cancelCollect\", idx);\r\n      }\r\n    };\r\n    const notifyState = {\r\n      state: reactive({\r\n        show: false,\r\n        desc: \"\",\r\n        type: \"primary\",\r\n      }),\r\n      methods: {\r\n        cellClick(type, desc) {\r\n          notifyState.state.show = true;\r\n          notifyState.state.type = type;\r\n          notifyState.state.desc = desc;\r\n        },\r\n      },\r\n    };\r\n    return {\r\n      loading,\r\n      pictureInfo,\r\n      pictureID,\r\n      pictureAuthor,\r\n      GoIndex,\r\n      notifyState,\r\n      collect,\r\n      is_collecting,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.detail {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n}\r\n.resize {\r\n  max-width: 100%;\r\n  height: 300px;\r\n  width: 95%;\r\n  margin: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 13px 27px -5px hsl(240deg 30% 28% / 25%),\r\n    0 8px 16px -8px hsl(0deg 0% 0% / 30%), 0 -6px 16px -6px hsl(0deg 0% 0% / 3%);\r\n}\r\n</style>\r\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"详情页\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/detail/index', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=style&index=0&id=98596bd0&lang=scss\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=98596bd0\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;ACgCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AALA;AANA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AA/DA;;;;;;;;;;;;;;;;;AA5DA;;;;AAkDA;AACA;;;;;;;;AAnDA;AAGA;AACA;AACA;;AAHA;AAKA;AACA;AACA;AACA;;AAJA;AAMA;AACA;AACA;AACA;;AAJA;AAMA;AACA;AACA;AACA;;AAJA;AAMA;AACA;AACA;AACA;;AAJA;AAMA;AACA;AACA;AACA;;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;;AANA;AAQA;AACA;AACA;AACA;;AAAA;AAEA;AADA;AACA;;AANA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AADA;AAAA;AAAA;;;;AALA;;AAAA;;;;;;;;;;;;AC9CA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}